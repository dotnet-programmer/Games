<Window x:Class="Tetris.WpfApp.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Tetris.WpfApp.Views"
		mc:Ignorable="d"
		Title="Tetris"
		Height="600"
		Width="800"
		MinWidth="600"
		MinHeight="600"
		Foreground="White"
		FontFamily="Segoe UI Light"
		FontSize="28"
		KeyDown="Window_KeyDown"
		WindowStartupLocation="CenterScreen">

	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto" />
			<RowDefinition Height="*" />
		</Grid.RowDefinitions>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="*" />
			<ColumnDefinition Width="Auto" />
			<ColumnDefinition Width="*" />
		</Grid.ColumnDefinitions>

		<Grid.Background>
			<ImageBrush ImageSource="/Resources/Background.png" />
		</Grid.Background>

		<TextBlock x:Name="ScoreText"
				   Grid.Row="0"
				   Grid.Column="1"
				   Margin="0,10,0,0"
				   TextAlignment="Center"
				   Text="Score: " />

		<!-- showing which block is currently on hold -->
		<StackPanel Grid.Row="1"
					Grid.Column="0"
					VerticalAlignment="Center"
					HorizontalAlignment="Right">

			<TextBlock Text="Hold"
					   TextAlignment="Center" />

			<Image x:Name="HoldImage"
				   Margin="20"
				   Width="125" />
		</StackPanel>

		<!-- A container that automatically scales its child to fit the available space -->
		<Viewbox Grid.Row="1"
				 Grid.Column="1"
				 Margin="5,10,5,20">

			<!-- 250x500 size gives 25 px per visible cell in the grid, additional 10 px to show which block caused the end of the game -->
			<!-- ClipToBounds="True" - elements that go beyond the borders of the canvas are cropped and invisible, needed to make the first 2 rows invisible -->
			<Canvas x:Name="GameCanvas"
					Background="#101010"
					Width="250"
					Height="510"
					ClipToBounds="True"
					Loaded="GameCanvas_Loaded" />
		</Viewbox>

		<!-- showing the next block -->
		<StackPanel Grid.Row="1"
					Grid.Column="2"
					VerticalAlignment="Center"
					HorizontalAlignment="Left">

			<TextBlock Text="Next"
					   TextAlignment="Center" />

			<Image x:Name="NextImage"
				   Margin="20"
				   Width="125" />
		</StackPanel>

		<Grid x:Name="GameOverMenu"
			  Background="#CC000000"
			  Grid.RowSpan="2"
			  Grid.ColumnSpan="3"
			  Visibility="Hidden">

			<StackPanel HorizontalAlignment="Center"
						VerticalAlignment="Center">

				<TextBlock FontSize="40"
						   TextAlignment="Center"
						   Text="Game Over" />

				<TextBlock x:Name="FinalScoreText"
						   FontSize="36"
						   TextAlignment="Center"
						   Text="Score: " />

				<Button Content="Play again"
						Background="LightGreen"
						Margin="0, 20, 0, 0"
						Padding="5"
						Click="PlayAgain_Click" />
			</StackPanel>
		</Grid>
	</Grid>
</Window>